{"version":3,"sources":["../src/cli.ts","../package.json"],"sourcesContent":["/* SPDX-License-Identifier: AGPL-3.0-only */\n/*            USOS Survey Filler          */\n/*       Copyright © 2025 Konrad Guzek    */\n\nimport { execSync } from \"child_process\";\nimport { writeFile } from \"fs/promises\";\nimport { input } from \"@inquirer/prompts\";\nimport boxen from \"boxen\";\nimport chalk from \"chalk\";\nimport { program } from \"commander\";\nimport { config } from \"dotenv\";\n\nimport packageJson from \"../package.json\";\n\nconst VERSION = packageJson.version;\n\nconst cardIntro = boxen(\n  chalk.white(`\n  Witaj w USOS Survey Filler ${VERSION}!\n  \n  Twórca: Konrad Guzek\n  GitHub: https://github.com/kguzek\n  Email: konrad@guzek.uk\n`),\n  {\n    padding: 1,\n    margin: 1,\n    borderStyle: \"round\",\n    borderColor: \"cyan\",\n    textAlignment: \"center\",\n  },\n);\n\nconst cardOutro = boxen(\n  chalk.white(`\n    Dziękuję za korzystanie z USOS Survey Filler.\n\n  ⭐ Zostaw mi gwiazdkę na GitHubie! ⭐\n  \n  https://github.com/kguzek/usos-survey-filler\n`),\n  {\n    padding: 1,\n    margin: 1,\n    borderStyle: \"round\",\n    borderColor: \"yellow\",\n    textAlignment: \"center\",\n  },\n);\n\nprogram.version(VERSION).description(\"USOS Survey Filler\");\n\nconst print = (message: string) =>\n  console.log(\n    `\\n${chalk.dim(\"[\")}${chalk.bgCyan.white(\"USOS Survey Filler\")}${chalk.reset.dim(\"]\")} ${chalk.cyan(message)}\\n`,\n  );\n\nprogram.action(async () => {\n  config();\n\n  console.log(cardIntro);\n\n  const username =\n    process.env.USOS_USERNAME ||\n    (await input({\n      message: \"👤 Nazwa użytkownika do USOSa (opcjonalne):\",\n    }));\n\n  const password =\n    process.env.USOS_PASSWORD ||\n    (await input({\n      message: \"🔑 Hasło do USOSa (opcjonalne):\",\n    }));\n\n  if (password !== \"\" || username !== \"\") {\n    // Create a .env file with the provided values\n    const envContent = `USOS_USERNAME=${username}\\nUSOS_PASSWORD=${password}`;\n    await writeFile(\".env\", envContent);\n  }\n\n  config();\n\n  print(\"Trwa instalacja programu...\");\n  execSync(\"npm install\", { stdio: \"inherit\" });\n  execSync(\"npx puppeteer browser install chrome\", { stdio: \"inherit\" });\n  print(\"Instalacja ukończona. Uruchamianie programu...\");\n  execSync(\"npm run start\", { stdio: \"inherit\" });\n  console.log(cardOutro);\n});\n\nprogram.parse(process.argv);\n","{\n  \"name\": \"usos-survey-filler\",\n  \"version\": \"1.1.0\",\n  \"description\": \"An automatic survey filler for WUST's USOS.\",\n  \"type\": \"module\",\n  \"scripts\": {\n    \"build\": \"tsup\",\n    \"start\": \"node dist/index.js\"\n  },\n  \"bin\": \"./bin/index.js\",\n  \"files\": [\n    \"dist\"\n  ],\n  \"keywords\": [],\n  \"author\": \"Konrad Guzek\",\n  \"license\": \"AGPL-3.0-only\",\n  \"dependencies\": {\n    \"@inquirer/prompts\": \"^7.3.2\",\n    \"boxen\": \"^8.0.1\",\n    \"chalk\": \"^5.4.1\",\n    \"commander\": \"^13.1.0\",\n    \"dotenv\": \"^16.4.7\",\n    \"puppeteer\": \"^24.3.0\"\n  },\n  \"devDependencies\": {\n    \"@ianvs/prettier-plugin-sort-imports\": \"^4.4.1\",\n    \"tsup\": \"^8.4.0\",\n    \"typescript\": \"^5.8.2\"\n  }\n}\n"],"mappings":";AAIA,SAAS,gBAAgB;AACzB,SAAS,iBAAiB;AAC1B,SAAS,aAAa;AACtB,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,SAAS,eAAe;AACxB,SAAS,cAAc;;;ACVvB;AAAA,EACE,MAAQ;AAAA,EACR,SAAW;AAAA,EACX,aAAe;AAAA,EACf,MAAQ;AAAA,EACR,SAAW;AAAA,IACT,OAAS;AAAA,IACT,OAAS;AAAA,EACX;AAAA,EACA,KAAO;AAAA,EACP,OAAS;AAAA,IACP;AAAA,EACF;AAAA,EACA,UAAY,CAAC;AAAA,EACb,QAAU;AAAA,EACV,SAAW;AAAA,EACX,cAAgB;AAAA,IACd,qBAAqB;AAAA,IACrB,OAAS;AAAA,IACT,OAAS;AAAA,IACT,WAAa;AAAA,IACb,QAAU;AAAA,IACV,WAAa;AAAA,EACf;AAAA,EACA,iBAAmB;AAAA,IACjB,uCAAuC;AAAA,IACvC,MAAQ;AAAA,IACR,YAAc;AAAA,EAChB;AACF;;;ADfA,IAAM,UAAU,gBAAY;AAE5B,IAAM,YAAY;AAAA,EAChB,MAAM,MAAM;AAAA,+BACiB,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA,CAKrC;AAAA,EACC;AAAA,IACE,SAAS;AAAA,IACT,QAAQ;AAAA,IACR,aAAa;AAAA,IACb,aAAa;AAAA,IACb,eAAe;AAAA,EACjB;AACF;AAEA,IAAM,YAAY;AAAA,EAChB,MAAM,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAMb;AAAA,EACC;AAAA,IACE,SAAS;AAAA,IACT,QAAQ;AAAA,IACR,aAAa;AAAA,IACb,aAAa;AAAA,IACb,eAAe;AAAA,EACjB;AACF;AAEA,QAAQ,QAAQ,OAAO,EAAE,YAAY,oBAAoB;AAEzD,IAAM,QAAQ,CAAC,YACb,QAAQ;AAAA,EACN;AAAA,EAAK,MAAM,IAAI,GAAG,CAAC,GAAG,MAAM,OAAO,MAAM,oBAAoB,CAAC,GAAG,MAAM,MAAM,IAAI,GAAG,CAAC,IAAI,MAAM,KAAK,OAAO,CAAC;AAAA;AAC9G;AAEF,QAAQ,OAAO,YAAY;AACzB,SAAO;AAEP,UAAQ,IAAI,SAAS;AAErB,QAAM,WACJ,QAAQ,IAAI,iBACX,MAAM,MAAM;AAAA,IACX,SAAS;AAAA,EACX,CAAC;AAEH,QAAM,WACJ,QAAQ,IAAI,iBACX,MAAM,MAAM;AAAA,IACX,SAAS;AAAA,EACX,CAAC;AAEH,MAAI,aAAa,MAAM,aAAa,IAAI;AAEtC,UAAM,aAAa,iBAAiB,QAAQ;AAAA,gBAAmB,QAAQ;AACvE,UAAM,UAAU,QAAQ,UAAU;AAAA,EACpC;AAEA,SAAO;AAEP,QAAM,6BAA6B;AACnC,WAAS,eAAe,EAAE,OAAO,UAAU,CAAC;AAC5C,WAAS,wCAAwC,EAAE,OAAO,UAAU,CAAC;AACrE,QAAM,qDAAgD;AACtD,WAAS,iBAAiB,EAAE,OAAO,UAAU,CAAC;AAC9C,UAAQ,IAAI,SAAS;AACvB,CAAC;AAED,QAAQ,MAAM,QAAQ,IAAI;","names":[]}