{"version":3,"sources":["../src/cli.ts","../src/survey-filler.ts"],"sourcesContent":["/* SPDX-License-Identifier: AGPL-3.0-only */\r\n/*            USOS Survey Filler          */\r\n/*       Copyright © 2025 Konrad Guzek    */\r\n\r\nimport { writeFile } from \"fs/promises\";\r\nimport { input, password } from \"@inquirer/prompts\";\r\nimport { Browser, BrowserPlatform, install, resolveBuildId } from \"@puppeteer/browsers\";\r\nimport boxen from \"boxen\";\r\nimport chalk from \"chalk\";\r\nimport { program } from \"commander\";\r\nimport { config } from \"dotenv\";\r\nimport ora from \"ora\";\r\n\r\nimport { SurveyFiller } from \"./survey-filler\";\r\n\r\nconst VERSION = process.env.npm_package_version || \"1.3.2\";\r\nconst REPO_URL = \"https://github.com/kguzek/usos-survey-filler\";\r\nconst KNOWN_ERROR_MESSAGES = [\r\n  \"Most likely the page has been closed\",\r\n  \"Navigating frame was detached\",\r\n  \"Target closed\",\r\n];\r\n\r\nconst cardIntro = boxen(\r\n  chalk.white(`\r\nWitaj w USOS Survey Filler ${VERSION}!\r\n\r\nTwórca: Konrad Guzek\r\nGitHub: ${chalk.underline(\"https://github.com/kguzek\")}\r\nEmail: konrad@guzek.uk\r\n`),\r\n  {\r\n    padding: 1,\r\n    margin: 1,\r\n    borderStyle: \"round\",\r\n    borderColor: \"cyan\",\r\n    textAlignment: \"center\",\r\n  },\r\n);\r\n\r\nconst cardOutro = boxen(\r\n  chalk.white(`\r\nDziękuję za korzystanie z USOS Survey Filler.\r\n\r\n⭐ Zostaw mi gwiazdkę na GitHubie! ⭐\r\n  \r\n${chalk.underline(REPO_URL)}\r\n`),\r\n  {\r\n    padding: 1,\r\n    margin: 1,\r\n    borderStyle: \"round\",\r\n    borderColor: \"yellow\",\r\n    textAlignment: \"center\",\r\n  },\r\n);\r\n\r\nconst cardError = boxen(\r\n  chalk.white(`\r\nWystąpił nieoczekiwany błąd podczas wykonywania aplikacji.\r\nJeśli problem będzie się powtarzał, zgłoś go na GitHubie:\r\n\r\n${chalk.underline(REPO_URL + \"/issues/new\")}\r\n`),\r\n  {\r\n    padding: 1,\r\n    margin: 1,\r\n    borderStyle: \"round\",\r\n    borderColor: \"red\",\r\n    textAlignment: \"center\",\r\n  },\r\n);\r\n\r\nprogram.version(VERSION).description(\"USOS Survey Filler\");\r\n\r\nconst formatMessage = (emoji: string, message: string) =>\r\n  `\\n${emoji} ${chalk.dim(\"[\")}${chalk.bgCyan.black(\"USOS Survey Filler\")}${chalk.reset.dim(\"]\")} ${message}`;\r\nconst formatInfo = (message: string) => formatMessage(\"🤖\", chalk.cyan(message));\r\nconst printInfo = (message: string) => console.info(formatInfo(message));\r\nconst formatError = (message: string) => \"\\n\" + formatMessage(\"❌\", chalk.red(message));\r\nconst printError = (message: string) => console.error(formatError(message));\r\nconst printWarning = (message: string) =>\r\n  console.warn(formatMessage(\"⚠️\", chalk.yellow(message)));\r\n\r\nfunction getPuppeteerPlatform(nodePlatform: string): BrowserPlatform {\r\n  switch (nodePlatform) {\r\n    case \"win32\":\r\n      return BrowserPlatform.WIN64;\r\n    case \"darwin\":\r\n      return BrowserPlatform.MAC;\r\n    case \"linux\":\r\n      return BrowserPlatform.LINUX;\r\n    default:\r\n      throw new Error(`Unsupported platform: ${nodePlatform}`);\r\n  }\r\n}\r\n\r\nprogram.action(async () => {\r\n  config();\r\n\r\n  console.log(cardIntro);\r\n\r\n  const username =\r\n    process.env.USOS_USERNAME ||\r\n    (await input({\r\n      message: \"👤 Nazwa użytkownika do USOSa (opcjonalne):\",\r\n    }));\r\n\r\n  const userPassword =\r\n    process.env.USOS_PASSWORD ||\r\n    (await password({\r\n      message: \"🔑 Hasło do USOSa (opcjonalne):\",\r\n      mask: \"*\",\r\n    }));\r\n\r\n  if (userPassword !== \"\" || username !== \"\") {\r\n    // Create a .env file with the provided values\r\n    const envContent = `USOS_USERNAME=${username}\\nUSOS_PASSWORD=${userPassword}`;\r\n    await writeFile(\".env\", envContent);\r\n  }\r\n\r\n  const installation = ora({\r\n    prefixText: formatInfo(\"Trwa instalacja programu...\"),\r\n  }).start();\r\n\r\n  try {\r\n    const cacheDir = \"./.puppeteer-cache\";\r\n    const platform = getPuppeteerPlatform(process.platform);\r\n    const browser = Browser.CHROME;\r\n    const buildId = await resolveBuildId(browser, platform, \"latest\");\r\n\r\n    await install({\r\n      cacheDir,\r\n      platform,\r\n      buildId,\r\n      browser,\r\n    });\r\n  } catch (error) {\r\n    if (error instanceof Error) {\r\n      printWarning(error.message);\r\n    }\r\n    installation.fail();\r\n    printError(\"Nie udało się zainstalować przeglądarki dla Puppeteer.\"),\r\n      console.log(cardError);\r\n    process.exitCode = 1;\r\n    return;\r\n  }\r\n\r\n  installation.succeed();\r\n  const execution = ora({\r\n    prefixText: formatInfo(\"Instalacja ukończona. Uruchamianie programu...\"),\r\n  }).start();\r\n  try {\r\n    const surveyFiller = new SurveyFiller(username, userPassword);\r\n    await surveyFiller.start();\r\n    execution.succeed();\r\n    console.log(cardOutro);\r\n  } catch (error) {\r\n    if (error instanceof Error) {\r\n      if (KNOWN_ERROR_MESSAGES.find((msg) => error.message.includes(msg))) {\r\n        execution.succeed();\r\n        printInfo(\"Program zamknięty przez użytkownika.\");\r\n        console.log(cardOutro);\r\n        return;\r\n      }\r\n      printWarning(error.message);\r\n    } else {\r\n      printWarning(`Nieznany błąd: ${error}`);\r\n    }\r\n    execution.fail();\r\n    console.log(cardError);\r\n    process.exitCode = 1;\r\n  }\r\n});\r\n\r\nprogram.parse(process.argv);\r\n","/* SPDX-License-Identifier: AGPL-3.0-only */\n/*            USOS Survey Filler          */\n/*       Copyright © 2025 Konrad Guzek    */\n\nimport type { Browser, Page } from \"puppeteer\";\nimport puppeteer from \"puppeteer\";\n\nconst USOS_HOME_URL = \"https://web.usos.pwr.edu.pl/kontroler.php?_action=home/index\";\nconst USOS_LOGIN_URL =\n  \"https://login.pwr.edu.pl/auth/realms/pwr.edu.pl/protocol/cas/login?service=https%3A%2F%2Fweb.usos.pwr.edu.pl%2Fkontroler.php%3F_action%3Dlogowaniecas%2Findex\";\nconst USOS_SURVEYS_HOMEPAGE =\n  \"https://web.usos.pwr.edu.pl/kontroler.php?_action=dla_stud/studia/ankiety/index\";\n\ninterface SurveyInfo {\n  name: string | null;\n  link: string | null;\n}\n\nexport class SurveyFiller {\n  private page!: Page;\n  private browser!: Browser;\n  private surveys: SurveyInfo[] = [];\n\n  private usosUsername: string;\n  private usosPassword: string;\n\n  constructor(username?: string, password?: string) {\n    this.usosUsername = username || \"\";\n    this.usosPassword = password || \"\";\n  }\n\n  private async init() {\n    this.browser = await puppeteer.launch({\n      headless: false,\n      args: [\"--window-size=1600,900\", \"--window-position=100,100\"],\n    });\n\n    const pages = await this.browser.pages();\n    await pages[0].close();\n    this.page = await this.browser.newPage();\n    this.page.setViewport({ width: 1600, height: 900 });\n  }\n\n  private async wait() {\n    await this.page.waitForNavigation({ waitUntil: \"networkidle0\" });\n  }\n\n  private async navigate(url: string) {\n    // console.debug(\" -->\", url);\n    await this.page.goto(url, { waitUntil: \"networkidle0\" });\n  }\n\n  private showAlert(message: string) {\n    return this.page.evaluate(\n      (message) => alert(`[USOS Survey Filler] ${message}`),\n      message,\n    );\n  }\n\n  private async manualLogin(alertMessage: string) {\n    await this.showAlert(alertMessage);\n    while (this.page.url() !== USOS_HOME_URL) {\n      await this.wait();\n    }\n  }\n\n  private async automaticLogin() {\n    await this.page.click(\"button.login\");\n    await this.wait();\n    if (this.page.url() !== USOS_HOME_URL) {\n      await this.manualLogin(\n        \"Niepoprawne dane loginowe. Proszę zalogować się manualnie.\",\n      );\n    }\n  }\n\n  private async loginToUsos() {\n    await this.navigate(USOS_LOGIN_URL);\n    const usernameEmpty = this.usosUsername === \"\";\n    const passwordEmpty = this.usosPassword === \"\";\n    await this.page.waitForSelector(\"#username\");\n    if (!usernameEmpty) {\n      await this.page.type(\"#username\", this.usosUsername, { delay: 40 });\n    }\n    if (passwordEmpty) {\n      if (!usernameEmpty) {\n        await this.page.focus(\"#password\");\n      }\n    } else {\n      await this.page.type(\"#password\", this.usosPassword, { delay: 40 });\n    }\n\n    if (usernameEmpty || passwordEmpty) {\n      await this.manualLogin(\"Proszę się zalogować manualnie.\");\n    } else {\n      await this.automaticLogin();\n    }\n  }\n\n  private getAllSurveys(): Promise<SurveyInfo[]> {\n    return this.page.$$eval(\"ul.no-bullets.separated li.flex\", (surveys) =>\n      surveys.map((survey) => {\n        const links = survey.querySelectorAll(\"a\");\n        const name = links[1].textContent?.trim().replace(/\\s+/g, \" \") ?? null;\n        const link = links[2].getAttribute(\"href\");\n        return { name, link };\n      }),\n    );\n  }\n\n  private async navigateToSurveys() {\n    await this.navigate(USOS_SURVEYS_HOMEPAGE);\n  }\n\n  private async fillSurvey(survey?: SurveyInfo) {\n    if (survey == null || survey.link === null) {\n      throw new Error(\"Survey link is null: \" + JSON.stringify(survey));\n    }\n    console.info(\"Filling out survey for\", survey.name);\n    await this.navigate(survey.link);\n\n    //   $('label:contains(\"68-100\")')\n    //   .filter((_, l) => $(l).find('input[type=\"radio\"]').length > 0)[0]\n    //   .click();\n\n    // $(\"label:textEquals('tak')\").each((_, l) => l.click());\n    // $(\"label:textEquals('raczej się zgadzam')\").each((_, l) => l.click());\n    await this.page.$$eval(\"label\", (labels) => {\n      labels.forEach((label) => {\n        const textContent = label.textContent?.trim().replace(/\\s+/g, \" \") ?? null;\n        if (textContent == null) {\n          return;\n        }\n\n        const SECTION_ANSWERS = [\n          \"68-100 %\" /** Question 1.1 */,\n          \"tak\" /** Questions 2.1-2.4 */,\n          \"raczej się zgadzam\" /** Questions 3.1-3.6 */,\n        ];\n\n        if (SECTION_ANSWERS.includes(textContent)) {\n          label.click();\n        }\n      });\n    });\n    const submitButton = await this.page.$(\"input.positive[type=button]\");\n    if (submitButton == null) {\n      throw new Error(\"Survey submit button not found\");\n    }\n    await submitButton.click();\n    await this.wait();\n  }\n\n  async start() {\n    await this.init();\n    await this.loginToUsos();\n\n    this.surveys = await this.getAllSurveys();\n    while (this.surveys.length > 0) {\n      await this.navigateToSurveys();\n      const survey = this.surveys.pop();\n      if (survey == null) {\n        console.warn(\"Nullish survey, skipping...\");\n        continue;\n      }\n      await this.fillSurvey(survey);\n    }\n\n    await this.showAlert(\n      \"Wszystkie ankiety zostały wypełnione.\\nDziękuję za korzystanie z aplikacji!\\n\\n~ kguzek\",\n    );\n    await this.browser.close();\n  }\n}\n"],"mappings":"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","names":["password","message"]}