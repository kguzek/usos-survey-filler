{"version":3,"sources":["../src/cli.ts","../src/browser.ts","../src/logging.ts","../src/survey-filler.ts"],"sourcesContent":["/* SPDX-License-Identifier: AGPL-3.0-only */\r\n/*            USOS Survey Filler          */\r\n/*       Copyright Â© 2025 Konrad Guzek    */\r\n\r\nimport { writeFile } from \"fs/promises\";\r\nimport { confirm, input, password } from \"@inquirer/prompts\";\r\nimport chalk from \"chalk\";\r\nimport { program } from \"commander\";\r\nimport { config } from \"dotenv\";\r\nimport ora from \"ora\";\r\n\r\nimport { detectUserBrowser, installBrowser } from \"./browser\";\r\nimport {\r\n  cardError,\r\n  cardErrorNoHeadless,\r\n  cardIntro,\r\n  cardOutro,\r\n  formatInfo,\r\n  printError,\r\n  printInfo,\r\n  printWarning,\r\n  VERSION,\r\n} from \"./logging\";\r\nimport { SurveyFiller } from \"./survey-filler\";\r\n\r\nconst KNOWN_ERROR_MESSAGES = [\r\n  \"Most likely the page has been closed\",\r\n  \"Navigating frame was detached\",\r\n  \"Target closed\",\r\n];\r\n\r\nprogram\r\n  .version(VERSION)\r\n  .description(\"USOS Survey Filler\")\r\n  .option(\r\n    \"-l, --headless\",\r\n    \"Uruchom bez interfejsu graficznego (wymaga podania loginu i hasÅ‚a w CLI)\",\r\n  )\r\n  .option(\r\n    \"-c, --hardcoded\",\r\n    \"WypeÅ‚nia ankiety tymi samymi odpowiedziami (68-100%; tak; raczej siÄ™ zgadzam).\",\r\n  );\r\n\r\nprogram.action(async () => {\r\n  config();\r\n\r\n  console.log(cardIntro);\r\n  const options = program.opts();\r\n\r\n  const optional = options.headless ? \"\" : \" (opcjonalne)\";\r\n  const username =\r\n    process.env.USOS_USERNAME ||\r\n    (await input({\r\n      message: `ðŸ‘¤ Nazwa uÅ¼ytkownika do USOSa${optional}:`,\r\n    }));\r\n\r\n  const userPassword =\r\n    process.env.USOS_PASSWORD ||\r\n    (await password({\r\n      message: `ðŸ”‘ HasÅ‚o do USOSa${optional}:`,\r\n      mask: \"*\",\r\n    }));\r\n\r\n  if (userPassword !== \"\" || username !== \"\") {\r\n    // Create a .env file with the provided values\r\n    const envContent = `USOS_USERNAME=${username}\\nUSOS_PASSWORD=${userPassword}`;\r\n    await writeFile(\".env\", envContent);\r\n  }\r\n\r\n  let browserPath = detectUserBrowser();\r\n\r\n  if (browserPath == null) {\r\n    printInfo(\r\n      \"Nie wykryto Å›ciezki instalacyjnej przeglÄ…darki. MyÅ›lisz, Å¼e to w bÅ‚Ä™dzie? ZgÅ‚oÅ› na GitHubie!\",\r\n    );\r\n  } else {\r\n    const useDetectedPath = await confirm({\r\n      message: `UÅ¼yÄ‡ wykrytej zainstalowanej przeglÄ…darki: ${chalk.underline(browserPath)}${chalk.reset(\"?\")}`,\r\n      transformer: (input) => (input ? chalk.green(\"Tak\") : chalk.red(\"Nie\")),\r\n    });\r\n    if (!useDetectedPath) {\r\n      browserPath = undefined;\r\n    }\r\n  }\r\n\r\n  if (browserPath == null) {\r\n    await installBrowser();\r\n  }\r\n\r\n  const execution = ora({\r\n    prefixText: formatInfo(\"Instalacja ukoÅ„czona. Uruchamianie programu...\"),\r\n  }).start();\r\n  try {\r\n    const surveyFiller = new SurveyFiller(\r\n      username,\r\n      userPassword,\r\n      options.headless,\r\n      browserPath,\r\n      !options.hardcoded,\r\n    );\r\n    await surveyFiller.start();\r\n    execution.succeed();\r\n    printInfo(`WypeÅ‚nionych ankiet: ${surveyFiller.getSurveysFilled()}`);\r\n    console.log(cardOutro);\r\n  } catch (error) {\r\n    if (error instanceof Error) {\r\n      if (KNOWN_ERROR_MESSAGES.find((msg) => error.message.includes(msg))) {\r\n        execution.succeed();\r\n        printInfo(\"Program zamkniÄ™ty przez uÅ¼ytkownika.\");\r\n        console.log(cardOutro);\r\n        return;\r\n      }\r\n      if (error.message === \"Tryb headless wymaga podania loginu i hasÅ‚a.\") {\r\n        execution.fail();\r\n        printError(error.message);\r\n        return;\r\n      }\r\n    }\r\n    execution.fail();\r\n    printWarning(error instanceof Error ? error.message : `Nieznany bÅ‚Ä…d: ${error}`);\r\n    console.log(options.headless ? cardError : cardErrorNoHeadless);\r\n    process.exitCode = 1;\r\n  }\r\n});\r\n\r\nprogram.parse(process.argv);\r\n","import { existsSync } from \"fs\";\r\nimport { Browser, BrowserPlatform, install, resolveBuildId } from \"@puppeteer/browsers\";\r\nimport ora from \"ora\";\r\n\r\nimport { cardError, formatInfo, printError, printWarning } from \"./logging\";\r\n\r\nconst pathsByOS: { [platform in NodeJS.Platform]?: string[] } = {\r\n  win32: [\r\n    \"C:\\\\Program Files\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe\",\r\n    \"C:\\\\Program Files (x86)\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe\",\r\n    \"C:\\\\Program Files\\\\Mozilla Firefox\\\\firefox.exe\",\r\n    \"C:\\\\Program Files (x86)\\\\Mozilla Firefox\\\\firefox.exe\",\r\n  ],\r\n  darwin: [\r\n    \"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome\",\r\n    \"/Applications/Firefox.app/Contents/MacOS/firefox\",\r\n  ],\r\n  linux: [\r\n    \"/usr/bin/google-chrome\",\r\n    \"/usr/bin/firefox\",\r\n    \"/usr/local/bin/google-chrome\",\r\n    \"/usr/local/bin/firefox\",\r\n  ],\r\n};\r\n\r\nexport function detectUserBrowser() {\r\n  const paths = pathsByOS[process.platform] ?? [];\r\n  return paths.find((path) => existsSync(path));\r\n}\r\n\r\nfunction getPuppeteerPlatform(nodePlatform: string): BrowserPlatform {\r\n  switch (nodePlatform) {\r\n    case \"win32\":\r\n      return BrowserPlatform.WIN64;\r\n    case \"darwin\":\r\n      return BrowserPlatform.MAC;\r\n    case \"linux\":\r\n      return BrowserPlatform.LINUX;\r\n    default:\r\n      throw new Error(`Unsupported platform: ${nodePlatform}`);\r\n  }\r\n}\r\n\r\nexport async function installBrowser() {\r\n  const installation = ora({\r\n    prefixText: formatInfo(\"Trwa instalacja tymczasowej wersji Chrome...\"),\r\n  }).start();\r\n\r\n  try {\r\n    const cacheDir = \"./.puppeteer-cache\";\r\n    const platform = getPuppeteerPlatform(process.platform);\r\n    const browser = Browser.CHROME;\r\n    const buildId = await resolveBuildId(browser, platform, \"latest\");\r\n\r\n    await install({\r\n      cacheDir,\r\n      platform,\r\n      buildId,\r\n      browser,\r\n    });\r\n  } catch (error) {\r\n    installation.fail();\r\n    if (error instanceof Error) {\r\n      printWarning(error.message);\r\n    } else {\r\n      printWarning(`Nieznany bÅ‚Ä…d instalacyjny: ${error}`);\r\n    }\r\n    printError(\"Nie udaÅ‚o siÄ™ zainstalowaÄ‡ przeglÄ…darki dla Puppeteer.\"),\r\n      console.log(cardError);\r\n    process.exitCode = 1;\r\n    return;\r\n  }\r\n\r\n  installation.succeed();\r\n}\r\n","import boxen from \"boxen\";\r\nimport chalk from \"chalk\";\r\n\r\nconst REPO_URL = \"https://github.com/kguzek/usos-survey-filler\";\r\nexport const VERSION = process.env.npm_package_version || \"1.4.6\";\r\n\r\nexport const cardIntro = boxen(\r\n  chalk.white(`\r\nWitaj w USOS Survey Filler ${VERSION}!\r\n\r\nTwÃ³rca: Konrad Guzek\r\nGitHub: ${chalk.underline(\"https://github.com/kguzek\")}\r\nEmail: konrad@guzek.uk\r\n`),\r\n  {\r\n    padding: 1,\r\n    margin: 1,\r\n    borderStyle: \"round\",\r\n    borderColor: \"cyan\",\r\n    textAlignment: \"center\",\r\n  },\r\n);\r\n\r\nexport const cardOutro = boxen(\r\n  chalk.white(`\r\nDziÄ™kujÄ™ za korzystanie z USOS Survey Filler.\r\n\r\nâ­ Zostaw mi gwiazdkÄ™ na GitHubie! â­\r\n  \r\n${chalk.underline(REPO_URL)}\r\n`),\r\n  {\r\n    padding: 1,\r\n    margin: 1,\r\n    borderStyle: \"round\",\r\n    borderColor: \"yellow\",\r\n    textAlignment: \"center\",\r\n  },\r\n);\r\n\r\nconst generateErrorCard = (text: string) =>\r\n  boxen(chalk.white(text), {\r\n    padding: 1,\r\n    margin: 1,\r\n    borderStyle: \"round\",\r\n    borderColor: \"red\",\r\n    textAlignment: \"center\",\r\n  });\r\n\r\nexport const cardError = generateErrorCard(`\r\nWystÄ…piÅ‚ nieoczekiwany bÅ‚Ä…d podczas wykonywania aplikacji.\r\nJeÅ›li problem bÄ™dzie siÄ™ powtarzaÅ‚, zgÅ‚oÅ› go na GitHubie:\r\n\r\n${chalk.underline(REPO_URL + \"/issues/new\")}\r\n`);\r\n\r\nexport const cardErrorNoHeadless = generateErrorCard(`\r\nWystÄ…piÅ‚ bÅ‚Ä…d podczas wykonywania aplikacji.\r\nSprÃ³buj uruchomiÄ‡ program z flagÄ… -l/--headless:\r\n\r\nnpx usos-survey-filler -l\r\n`);\r\n\r\nconst formatMessage = (emoji: string, message: string) =>\r\n  `\\n${emoji} ${chalk.dim(\"[\")}${chalk.bgCyan.black(\"USOS Survey Filler\")}${chalk.reset.dim(\"]\")} ${message}`;\r\nexport const formatInfo = (message: string) => formatMessage(\"ðŸ¤–\", chalk.cyan(message));\r\nconst formatError = (message: string) => \"\\n\" + formatMessage(\"âŒ\", chalk.red(message));\r\nexport const printInfo = (message: string) => console.info(formatInfo(message));\r\nexport const printError = (message: string) => console.error(formatError(message));\r\nexport const printWarning = (message: string) =>\r\n  console.warn(formatMessage(\"âš ï¸\", chalk.yellow(message)));\r\n","/* SPDX-License-Identifier: AGPL-3.0-only */\r\n/*            USOS Survey Filler          */\r\n/*       Copyright Â© 2025 Konrad Guzek    */\r\n\r\nimport type { Browser, Page } from \"puppeteer\";\r\nimport puppeteer from \"puppeteer\";\r\n\r\nconst USOS_HOME_URL = \"https://web.usos.pwr.edu.pl/kontroler.php?_action=home/index\";\r\nconst USOS_LOGIN_URL =\r\n  \"https://login.pwr.edu.pl/auth/realms/pwr.edu.pl/protocol/cas/login?service=https%3A%2F%2Fweb.usos.pwr.edu.pl%2Fkontroler.php%3F_action%3Dlogowaniecas%2Findex\";\r\nconst USOS_SURVEYS_HOMEPAGE =\r\n  \"https://web.usos.pwr.edu.pl/kontroler.php?_action=dla_stud/studia/ankiety/index\";\r\n\r\ninterface SurveyInfo {\r\n  name: string | null;\r\n  link: string | null;\r\n}\r\n\r\nexport class SurveyFiller {\r\n  private page!: Page;\r\n  private browser!: Browser;\r\n  private surveys: SurveyInfo[] = [];\r\n  private usosUsername: string;\r\n  private usosPassword: string;\r\n  private headless: boolean;\r\n  private surveysFilled = 0;\r\n  private browserPath?: string;\r\n  private randomAnswers: boolean;\r\n\r\n  constructor(\r\n    username?: string,\r\n    password?: string,\r\n    headless = false,\r\n    browserPath?: string,\r\n    randomAnswers = false,\r\n  ) {\r\n    this.usosUsername = username || \"\";\r\n    this.usosPassword = password || \"\";\r\n    this.headless = headless;\r\n    if (headless && (this.usosUsername === \"\" || this.usosPassword === \"\")) {\r\n      throw new Error(\"Tryb headless wymaga podania loginu i hasÅ‚a.\");\r\n    }\r\n    this.browserPath = browserPath;\r\n    this.randomAnswers = randomAnswers;\r\n  }\r\n\r\n  getSurveysFilled() {\r\n    return this.surveysFilled;\r\n  }\r\n\r\n  private async init() {\r\n    this.browser = await puppeteer.launch({\r\n      headless: this.headless ? undefined : false,\r\n      args: [\"--window-size=1600,900\", \"--window-position=100,100\"],\r\n      executablePath: this.browserPath,\r\n    });\r\n\r\n    const pages = await this.browser.pages();\r\n    if (pages.length > 0) {\r\n      this.page = pages[0];\r\n    } else {\r\n      await pages[0].close();\r\n      this.page = await this.browser.newPage();\r\n    }\r\n    this.page.setViewport({ width: 1600, height: 900 });\r\n  }\r\n\r\n  private async wait() {\r\n    await this.page.waitForNavigation({ waitUntil: \"networkidle0\" });\r\n  }\r\n\r\n  private async navigate(url: string) {\r\n    // console.debug(\" -->\", url);\r\n    await this.page.goto(url, { waitUntil: \"networkidle0\" });\r\n  }\r\n\r\n  private showAlert(message: string, optional = false) {\r\n    if (this.headless) {\r\n      if (!optional) {\r\n        console.debug(\"Aktalna strona:\", this.page.url());\r\n        this.browser.close();\r\n        throw new Error(message);\r\n      }\r\n      return;\r\n    }\r\n    return this.page.evaluate(\r\n      (message) => alert(`[USOS Survey Filler] ${message}`),\r\n      message,\r\n    );\r\n  }\r\n\r\n  private async manualLogin(alertMessage: string) {\r\n    await this.showAlert(alertMessage);\r\n    while (this.page.url() !== USOS_HOME_URL) {\r\n      await this.wait();\r\n    }\r\n  }\r\n\r\n  private async automaticLogin() {\r\n    await this.page.click(\"button.login\");\r\n    await this.wait();\r\n    if (this.page.url() !== USOS_HOME_URL) {\r\n      await this.manualLogin(\r\n          \"Niepoprawne dane loginowe. ProszÄ™ zalogowaÄ‡ siÄ™ manualnie.\",\r\n        );\r\n    }\r\n  }\r\n\r\n  private async loginToUsos() {\r\n    await this.navigate(USOS_LOGIN_URL);\r\n    const usernameEmpty = this.usosUsername === \"\";\r\n    const passwordEmpty = this.usosPassword === \"\";\r\n    await this.page.waitForSelector(\"#username\");\r\n    if (!usernameEmpty) {\r\n      await this.page.type(\"#username\", this.usosUsername, { delay: 40 });\r\n    }\r\n    if (passwordEmpty) {\r\n      if (!usernameEmpty) {\r\n        await this.page.focus(\"#password\");\r\n      }\r\n    } else {\r\n      await this.page.type(\"#password\", this.usosPassword, { delay: 40 });\r\n    }\r\n\r\n    if (usernameEmpty || passwordEmpty) {\r\n      await this.manualLogin(\"ProszÄ™ siÄ™ zalogowaÄ‡ manualnie.\");\r\n    } else {\r\n      await this.automaticLogin();\r\n    }\r\n  }\r\n\r\n  private async getAllSurveys(): Promise<SurveyInfo[]> {\r\n    await this.navigateToSurveys();\r\n    return this.page.$$eval(\"ul.no-bullets.separated li.flex\", (surveys) =>\r\n      surveys.map((survey) => {\r\n        const links = survey.querySelectorAll(\"a\");\r\n        const name = links[1].textContent?.trim().replace(/\\s+/g, \" \") ?? null;\r\n        const link = links[2].getAttribute(\"href\");\r\n        return { name, link };\r\n      }),\r\n    );\r\n  }\r\n\r\n  private async navigateToSurveys() {\r\n    await this.navigate(USOS_SURVEYS_HOMEPAGE);\r\n  }\r\n\r\n  private async fillSurvey(survey?: SurveyInfo) {\r\n    if (survey == null || survey.link === null) {\r\n      throw new Error(\"Survey link is null: \" + JSON.stringify(survey));\r\n    }\r\n    console.info(\"Filling out survey for\", survey.name);\r\n    await this.navigate(survey.link);\r\n\r\n    //   $('label:contains(\"68-100\")')\r\n    //   .filter((_, l) => $(l).find('input[type=\"radio\"]').length > 0)[0]\r\n    //   .click();\r\n\r\n    // $(\"label:textEquals('tak')\").each((_, l) => l.click());\r\n    // $(\"label:textEquals('raczej siÄ™ zgadzam')\").each((_, l) => l.click());\r\n    await this.page.$$eval(\"label\", (labels) => {\r\n      const percentageAnswers = [\r\n        \"0-33 %\",\r\n        \"34-67 %\",\r\n        \"34-67 %\",\r\n        \"68-100 %\",\r\n        \"68-100 %\",\r\n        \"68-100 %\",\r\n        \"68-100 %\",\r\n        \"68-100 %\",\r\n        \"68-100 %\",\r\n        \"68-100 %\",\r\n        \"68-100 %\",\r\n      ];\r\n      const yesNoAnswers = [\"nie\", \"tak\", \"tak\", \"tak\", \"tak\", \"tak\", \"tak\"];\r\n      const subjectiveAnswers = [\r\n        \"zdecydowanie siÄ™ nie zgadzam\",\r\n        \"raczej siÄ™ nie zgadzam\",\r\n        \"zdecydowanie siÄ™ zgadzam\",\r\n        \"zdecydowanie siÄ™ zgadzam\",\r\n        \"nie mam zdania\",\r\n        \"nie mam zdania\",\r\n        \"nie mam zdania\",\r\n        \"raczej siÄ™ zgadzam\",\r\n        \"raczej siÄ™ zgadzam\",\r\n        \"raczej siÄ™ zgadzam\",\r\n        \"raczej siÄ™ zgadzam\",\r\n        \"raczej siÄ™ zgadzam\",\r\n        \"raczej siÄ™ zgadzam\",\r\n        \"raczej siÄ™ zgadzam\",\r\n        \"raczej siÄ™ zgadzam\",\r\n      ];\r\n      const getRandomItem = <T>(array: T[]) =>\r\n        this.randomAnswers\r\n          ? array[Math.floor(Math.random() * array.length)]\r\n          : array.at(-1);\r\n\r\n      labels.forEach((label) => {\r\n        const textContent = label.textContent?.trim().replace(/\\s+/g, \" \") ?? null;\r\n        if (textContent == null) {\r\n          return;\r\n        }\r\n\r\n        const SECTION_ANSWERS = [\r\n          getRandomItem(percentageAnswers) /** Question 1.1 */,\r\n          getRandomItem(yesNoAnswers) /** Questions 2.1-2.4 */,\r\n          getRandomItem(subjectiveAnswers) /** Questions 3.1-3.6 */,\r\n        ];\r\n\r\n        if (SECTION_ANSWERS.includes(textContent)) {\r\n          label.click();\r\n        }\r\n      });\r\n    });\r\n    const submitButton = await this.page.$(\"input.positive[type=button]\");\r\n    if (submitButton == null) {\r\n      throw new Error(\"Survey submit button not found\");\r\n    }\r\n    await submitButton.click();\r\n    await this.wait();\r\n    this.surveysFilled++;\r\n  }\r\n\r\n  async start() {\r\n    await this.init();\r\n    await this.loginToUsos();\r\n\r\n    this.surveys = await this.getAllSurveys();\r\n    while (this.surveys.length > 0) {\r\n      await this.navigateToSurveys();\r\n      const survey = this.surveys.pop();\r\n      if (survey == null) {\r\n        console.warn(\"Nullish survey, skipping...\");\r\n        continue;\r\n      }\r\n      await this.fillSurvey(survey);\r\n    }\r\n\r\n    await this.showAlert(\r\n      \"Wszystkie ankiety zostaÅ‚y wypeÅ‚nione.\\nDziÄ™kujÄ™ za korzystanie z aplikacji!\\n\\n~ kguzek\",\r\n      true,\r\n    );\r\n    await this.browser.close();\r\n  }\r\n}\r\n"],"mappings":"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","names":["chalk","ora","password","message","chalk","input","ora"]}